specVersion: 1.3.0


schema:
 file: ./schema.graphql


dataSources:
 - kind: ethereum
   name: Pool
   network: fuji
   source:
     address: "0x76cc67FF2CC77821A70ED14321111Ce381C2594D"   # Pool proxy (Avalanche Fuji V2)
     abi: Pool
     startBlock: 14436030                                 # first block of deployment (safe)
   mapping:
     kind: ethereum/events
     apiVersion: 0.0.9
     language: wasm/assemblyscript
     entities:
       - CDP
     abis:
       - name: Pool
         file: ./abis/LendingPool.json                      # ðŸ‘ˆ this is *implementation* ABI
     eventHandlers:
       - event: "Borrow(indexed address,address,indexed address,uint256,uint256,uint256,indexed uint16)"
         handler: handleBorrow
       - event: "LiquidationCall(indexed address,indexed address,indexed address,uint256,uint256,address,bool)"
         handler: handleLiquidationCall




     file: ./src/mappings.ts